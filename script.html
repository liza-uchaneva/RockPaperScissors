<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Page Title</title>
</head>
<body>
  <script>
    const arg = new Array
    (
        'rock',
        'paper',
        'scissors'
    );
    let playerSelection;
    let computerSelection;

    let playerWins = 0;
    let computerWins = 0;

    function game()
    {
        while(true)
        {
            playerSelection = getPlayerChoice();
            computerSelection = getComputerChoice();

            playRound(playerSelection, computerSelection);
            if(playerWins >= 3 || computerWins >= 3)
            {
                break;
            }
        }
        displayResults();
        restart();
    }

    function restart()
    {
        playerWins = 0;
        computerWins = 0;
        game();
    }
    function playRound(playerSelection,computerSelection)
    {
        if(playerSelection == computerSelection)
        {
            alert('Draw! Try again.');
        }
        else if((playerSelection == 'rock' && computerSelection == 'scissors')
        ||(playerSelection == 'paper' && computerSelection == 'rock')
        ||(playerSelection == 'scissors' && computerSelection == 'paper'))
        {
            playerWins += 1;
            alert('You Win!'+' '+ playerSelection +' '+ 'beats' +' '+ computerSelection);
            alert('Player score:' + playerWins + ' ' + 'Computer score:' + computerWins);
        }
        else
        {
            computerWins += 1;
            alert('You Lose!'+ computerSelection +' '+ 'beats' +' '+ playerSelection);
            alert('Player score:' + playerWins + ' ' + 'Computer score:' + computerWins);
        }
    }
    function getComputerChoice()
    {
        return arg[Math.floor(Math.random() * arg.length)];
    }

    function getPlayerChoice()
    {
        let input = window.prompt('Put your value');
        while(true)
        {
            if(!arg.includes(input)) 
            {
                alert('Incorrect value')
                input = window.prompt();
                input = input.toLowerCase();
            }  
            else
            {
                break;            
            }
        }
        return input.toLowerCase();
    }

    function displayResults()
    {
        if(computerWins > playerWins)
        {
            alert('Sorry, but you lose! Try again.'+' '+'Player score:' + ' ' + playerWins + ' ' + 
                                                        'Computer score:' + ' ' + computerWins);
        }
        else
        {
            alert('Congratulations! You Win!'+' '+'Player score:' + ' ' + playerWins + ' ' + 
                                                  'Computer score:' + ' ' + computerWins);
        }
    }
    game();
  </script>
</body>
</html>